<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('../partials/Head'); %>
        <link rel="stylesheet" type="text/css" href="/CSS/HomePage.css" />
</head>

<body>

    <main class="container">
        <form method="post" id="form-1">
            <h3>Register Page</h3>
            <div class="form-group">
                <label for="username">Username: </label>
                <input type="text" placeholder="Please enter username: " autocomplete="additional-name" name="username"
                    value="<%= typeof username !== 'undefined' ? username : '' %>" id="username" />
                <span><i class="fa-solid fa-user form-icon"></i></span>
                <% if (error.username) { %>
                    <p class="form-message">
                        <%= error.username || '' %>
                    </p>
                    <% } %>
                        <p class="form-message"></p>

            </div>

            <div class="form-group">
                <label for="email">Email: </label>
                <input type="email" placeholder="Please enter email: " autocomplete="email" name="email"
                    value="<%= typeof email !== 'undefined' ? email : '' %>" id="email" />
                <span><i class="fa-solid fa-user form-icon"></i></span>
                <% if (error.email) { %>
                    <p class="form-message">
                        <%= error.email || '' %>
                    </p>
                    <% } %>
                        <p class="form-message"></p>

            </div>

            <div class="form-group">
                <label for="password">Password: </label>
                <input type="password" placeholder="Please enter password: " autocomplete="new-password" name="password"
                    value="<%= typeof password !== 'undefined' ? password : '' %>" id="password" />
                <span><i class="fa-solid fa-lock form-icon"></i></span>
                <% if (error.password) { %>
                    <p class="form-message">
                        <%= error.password || '' %>
                    </p>
                    <% } %>
                        <p class="form-message"></p>

            </div>

            <div class="form-group">
                <label for="re-password">Password again: </label>
                <input type="password" placeholder="Please enter password: " name="password_confirmation"
                    value="<%= typeof password_confirmation !== 'undefined' ? password_confirmation : '' %>"
                    id="confirm-password" autocomplete="new-password" />
                <span><i class="fa-solid fa-lock form-icon"></i></span>
                <% if (error.password_confirmation) { %>
                    <p class="form-message">
                        <%= error.password_confirmation || '' %>
                    </p>
                    <% } %>
                        <p class="form-message"></p>

            </div>

            <div class="form-bottom">
                <button type="submit">Regitser</button>
                <p>Already had an account? <a href="/">Login</a></p>
            </div>
        </form>
    </main>

    <script src="/JS/validator.js"></script>
    <script>
        Validator({
            form: '#form-1',
            rules: [
                Validator.isRequired('#username'),
                Validator.minLength('#username', 3),
                Validator.isEmail('#email'),
                Validator.isPassword('#password'),
                Validator.minLength('#password', 6),
                Validator.isConfirmPassword('#confirm-password'),
                Validator.isConfirmPassword('#confirm-password', function() {
                    return document.querySelector('#form-1 #password').value;
                }, 'Mật khẩu nhập lại không chính xác')
            ]
        })
    </script>
</body>

</html>